package main

import (
	"testing"
)

func TestBearingSub(t *testing.T) {
	testCases := []struct {
		b1, b2 bearing
		want   bearing
	}{
		{20, 45, 25},
		{-45, 45, 90},
		{-85, 90, 175},
		{-95, 90, 175},
		{-45, 125, 170},
		{-45, 145, -170},  // Note: Corrected expected value. 190 - 360 = -170
		{29.4803, -88.6381, -118.1184},
		{-78.3251, -159.036, -80.7109},
		{-70099.74233810938, 29840.67437876723, -40.25766189062326},
		{-165313.6666297357, 33693.9894517456, 40.3233702643},
		{1174.8380510598456, -154146.66490124757, 39.33509875243},
		{60175.77306795546, 42213.07192354373, -179.62700441173125},

        //Edge Cases
        {180, -180, 0},
        {-180, 180, 0},
        {180, 180, 0},
        {-180, -180, 0},
	}

	for _, tc := range testCases {
		got := tc.b2.Sub(tc.b1)
		if got != tc.want {
			t.Errorf("Sub(%f, %f) = %f; want %f", tc.b2, tc.b1, got, tc.want)
		}
	}
}

